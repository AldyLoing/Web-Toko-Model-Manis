{% extends 'base.html' %}
{% load api_filters %}

{% block title %}Instagram Gallery - Model Manis{% endblock %}

{% block content %}
<div class="container my-5">
    <div class="text-center mb-5">
        <h1>Instagram Feed</h1>
        <p class="text-muted">@modelmanis_rtl</p>
        <a href="{{ profile_url }}" target="_blank" class="btn btn-primary">
            <i class="lni lni-instagram"></i> Follow Us on Instagram
        </a>
    </div>
    
    {% if error and not has_media %}
    <div class="alert alert-info text-center">
        <i class="lni lni-information"></i> {{ error }}
        <br>
        <small class="text-muted">Kunjungi profil Instagram kami untuk melihat postingan terbaru</small>
    </div>
    {% endif %}
    
    {% if has_media %}
    <div class="row g-4">
        {% for media in media_items %}
        <div class="col-md-4 col-lg-3">
            <div class="instagram-card">
                <a href="{{ media.permalink }}" target="_blank">
                    <img src="{{ media.media_url }}" alt="{{ media.caption|truncate_text:30 }}" loading="lazy">
                    <div class="instagram-overlay">
                        <p class="mb-0">{{ media.caption|truncate_text:80 }}</p>
                        <small>
                            <i class="{{ media.media_type|instagram_type_icon }}"></i>
                            {{ media.media_type }}
                        </small>
                    </div>
                </a>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="text-center py-5">
        <i class="lni lni-instagram" style="font-size: 64px; color: #ddd;"></i>
        <h3 class="mt-3">Feed Instagram Tidak Tersedia</h3>
        <p class="text-muted">Kunjungi profil Instagram kami untuk melihat postingan terbaru</p>
        <a href="{{ profile_url }}" target="_blank" class="btn btn-primary btn-lg">
            <i class="lni lni-instagram"></i> Kunjungi Instagram Kami
        </a>
    </div>
    {% endif %}
</div>
{% endblock %}
